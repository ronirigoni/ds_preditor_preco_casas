<!DOCTYPE html>
<html>
  <head>
    <title>Preços - Casas - Palmas</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
</head>
  <body>
	<div class="container">
	
		<h1>Preditor de Preço (Casas em Palmas-TO)</h1>
	
		<div class="col-sm-6 col-sm-offset-3">
		  
		  <form action="https://us-central1-fair-melody-362317.cloudfunctions.net/preve_preco" method="POST">
			<div id="area-group" class="form-group">
			  <label for="area">Área Construída (m²):</label>
			  <input
				type="number"
				class="form-control"
				id="area"
				name="area"
				placeholder="Área"
			  />
			</div>

			<div id="quartos-group" class="form-group">
			  <label for="quartos">Quantidade de Quartos:</label>
			  <input
				type="number"
				class="form-control"
				id="quartos"
				name="quartos"
				placeholder="Quartos"
			  />
			</div>

			<div id="banheiros-group" class="form-group">
			  <label for="banheiros">Quantidade de Banheiros:</label>
			  <input
				type="number"
				class="form-control"
				id="banheiros"
				name="banheiros"
				placeholder="Banheiros"
			  />
			</div>
			
			<div id="garagens-group" class="form-group">
			  <label for="garagens">Quantidade de Garagens:</label>
			  <input
				type="number"
				class="form-control"
				id="garagens"
				name="garagens"
				placeholder="Garagens"
			  />
			</div>
			
			<div id="endereco-group" class="form-group">
			  <label for="endereco">Endereço <small>(siga o exemplo)</small></label>
			  <input
				type="text"
				class="form-control"
				id="endereco"
				name="endereco"
				placeholder="Ex: Quadra 106 Sul, Palmas, TO"
			  />
			</div>

			<div id="submit-group" class="form-group" style="margin-top:10px">
				<button type="submit" class="btn btn-success">
				  PREVER PREÇO
				</button>
			</div>
		  </form>
		</div>
	</div>
  </body>
  <script>
	  //jQuery.support.cors = true;
	  $(document).ready(function () {
	  $("form").submit(function (event) {
	  
		event.preventDefault();
		
		var formData = {
		  area: $("#area").val(),
		  quartos: $("#quartos").val(),
		  banheiros: $("#banheiros").val(),
		  garagens: $("#garagens").val(),
		  endereco: $("#endereco").val()
		};

		$.ajax({
		  type: "POST",
		  crossDomain: true,
		  url: "https://us-central1-fair-melody-362317.cloudfunctions.net/preve_preco",
		  data: formData,
		  dataType: "jsonp",
		  encode: true,
		}).done(function (data) {
		  console.log(data);
		});

		
	  });
	});
  </script>
</html>